<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cbox.wxlogin.mapper.DeptSelectMapper">
	<!-- 查询对象 -->
	<sql id="selectVO">
		<![CDATA[
			select 
				d.dept_id, 
				d.parent_id, 
				d.ancestors, 
				d.dept_name, 
				d.order_num, 
				d.leader, 
				d.phone, 
				d.email, 
				d.status, 
				d.del_flag, 
				d.create_by, 
				d.create_time 
        	from sys_dept d
		]]>
	</sql>
	
	<select id="listDept" parameterType="java.util.Map" resultType="java.util.HashMap">
		<include refid="selectVO"/>
		where d.del_flag = '0' 
		<if test="level != null and level !='' ">
			<![CDATA[ and d.parent_id > #{level} ]]>
		</if>
		order by order_num asc
	</select>



</mapper>