<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cbox.business.question.examrecorddetail.mapper.ExamRecordDetailMapper">

	<!-- 查询对象 -->
	<sql id="selectVO">
		<![CDATA[
			select 
				t.rec_id,
				t.record_id,
				t.title_id,
				t.answers
			from d_exam_record_detail t
			inner join d_exam_record rt on t.record_id=rt.rec_id
		]]>
	</sql>

	<!-- listExamRecordDetail : 获取考试/问卷记录详情列表数据 -->
	<select id="listExamRecordDetail" parameterType="java.util.Map" resultType="java.util.HashMap">
		<include refid="selectVO"/>
		where 1=1
		<if test="record_id != null and record_id != ''">
			 and t.record_id=#{record_id}
		</if>
		<if test="title_id != null and title_id != ''">
			 and t.title_id=#{title_id}
		</if>
		<if test="answers != null and answers != ''">
			 and t.answers=#{answers}
		</if>
		<if test="customer_id != null and customer_id != ''">
			 and rt.customer_id=#{customer_id}
		</if>
		<if test="question_id != null and question_id != ''">
			 and rt.qbank_id=#{question_id}
		</if>
	</select>

	<!-- getExamRecordDetail : 获取指定id的考试/问卷记录详情数据 -->
	<select id="getExamRecordDetail" parameterType="java.util.Map" resultType="java.util.HashMap">
		<include refid="selectVO"/>

		where t.rec_id=#{rec_id}
	</select>

</mapper>